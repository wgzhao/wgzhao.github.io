<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>LSB Scripts Specification | Linux系统管理</title>
  <meta name="author" content="wgzhao">
  
  <meta name="description" content="Linux,SA,DBA,bigdata">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="LSB Scripts Specification"/>
  <meta property="og:site_name" content="Linux系统管理"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Linux系统管理" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Linux系统管理</a></h1>
  <h2><a href="/">关注Linux系统管理，运维开发以及大数据</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2012-01-10T10:53:00.000Z"><a href="/2012/01/10/lsb-scripts-specification/">1月 10 2012</a></time>
      
      
  
    <h1 class="title">LSB Scripts Specification</h1>
  

    </header>
    <div class="entry">
      
        <h2 id=" 什么是 LSB">什么是 LSB</h2>
<p><a href="https://wiki.linuxfoundation.org/en/LSB_Wiki" title="Linux Standard Base" target="_blank">LSB</a>，即<strong>Linux 标准规范</strong>(英语:Linux Standard Base) 是一个在<a href="http://zh.wikipedia.org/wiki/Linux%E5%9F%BA%E9%87%91%E6%9C%83" title="Linux 基金会 " target="_blank">Linux 基金会</a>结构下对 Linux 发行版的联合项目，使 Linux 操作系统符合软件系统架构，或文件系统架构标准的规范及标准。<a href="https://wiki.linuxfoundation.org/en/LSB_Wiki" title="Linux Standard Base" target="_blank">LSB</a>基于<a href="http://zh.wikipedia.org/wiki/POSIX" title="POSIX" target="_blank">POSIX</a>，统一 UNIX 规范及其他开放标准，共在某些领域扩展它们。详细情况请参考相关链接。<br><a id="more"></a></p>
<h2 id="LSB 脚本动作 ">LSB 脚本动作</h2>
<p>由<a href="https://wiki.linuxfoundation.org/en/LSB_Wiki" title="Linux Standard Base" target="_blank">LSB</a>应用程序提供的脚本应该需要接受一个指示其动作 (action) 的参数，目前包括：</p>
<ul>
<li><strong>start</strong>         启动服务</li>
<li><strong>stop</strong>          停止服务</li>
<li><strong>restart</strong>         如果服务在运行，则先停止，再启动，否则启动服务</li>
<li><strong>try-restart</strong> 如果服务正在运行，重启服务</li>
<li><strong>reload</strong>         不通过重启服务的方式重新加载配置文件</li>
<li><strong>force-reload</strong>  如果服务支持的话，重新加载配置文件，否则重启服务</li>
<li><strong>status</strong>         打印服务的当前状态</li>
</ul>
<p><code>start</code>，<code>stop</code>，<code>restart</code>，<code>force-reload</code> 和<code>status</code>是所有 lsb 脚本必须支持的；<code>reload</code>和<code>try-restart</code>是可选的。当然自己也可以定义别的一些动作。</p>
<p>在下列情况下，lsb 脚本要求确保对其接受的动作 (action) 有其明确且合理的行为</p>
<ul>
<li>服务已经启动，然后调用<code>start</code></li>
<li>服务已经停止，然后调用<code>stop</code></li>
</ul>
<p>对于这些行为，为了满足其一致性，最好使用<code>/lib/lsb/init-functions</code>脚本 (后面分析)</p>
<p>在主流的 Linux 发行版版本中，一个软件包卸载 (remove) 时，并不会将一些脚本，配置文件同时删除，除非你强制指定为清除 (purge)。因此，在你的 lsb 脚本最前面应该包括一个判断真正的可执行文件是否存在，类似于下面这个样子:</p>
<p><code>[ -x /usr/sbin/ifconfig ] || exit 5</code></p>
<p>如果调用<code>status</code>动作，lsb 脚本应该根据其状态返回下面的值:</p>
<ul>
<li><strong>0</strong>  程序正在运行，或者服务正常</li>
<li><strong>1</strong>  程序已死，但 /var/run/ 下的 pid 文件还存在 (或者在别的位置)</li>
<li><strong>2</strong>  程序已死，但 /var/lock/ 下的锁文件还存在 (或者在别的位置)</li>
<li><strong>3</strong>  程序没有运行</li>
<li><strong>4</strong>  程序或者服务状态未知</li>
<li><strong>5-99</strong> LSB 为扩展保留</li>
<li><strong>100-149</strong>  为发行版本使用保留</li>
<li><strong>150-199</strong>   为应用程序使用保留</li>
<li><strong>200-254</strong>  保留</li>
</ul>
<p>除<code>status</code>动作外，指定其他动作，lsb 脚本必须返回状态值 (<code>exit $?</code>)，如果完成动作其他的结果，返回为 0，否则应该根据动作情况，返回下列值之一:</p>
<ul>
<li><strong>1</strong>  通用 (generic) 错误或者非规范化错误</li>
<li><strong>2</strong>  无效参数，或者参数过多</li>
<li><strong>3</strong>  未实现的特性（比如<code>reload</code>）</li>
<li><strong>4</strong>  用户权限不够</li>
<li><strong>5</strong>  程序没有安装</li>
<li><strong>6</strong>  程序没有配置</li>
<li><strong>7</strong>  程序没有运行</li>
<li><strong>8-99</strong>  LSB 为扩展保留</li>
<li><strong>100-149</strong>  为发行版本保留</li>
<li><strong>150-199</strong>  为应用程序使用保留</li>
<li><strong>200-254</strong>  保留</li>
</ul>
<p>错误和状态消息应该通过日志函数来输出，比如 lsb 提供的<code>log_failure_msg</code>。</p>
<p>因为 lsb 脚本有可能是由系统管理员在非标准的环境下手工运行，比如没有<code>PATH</code>，<code>USER</code>，<code>LOGNAME</code>等环境变量。因此 lsb 脚本不能依赖环境变量，它需要自己设定自己需要的变量或者使用缺省值。</p>
<h2 id="LSB 脚本注释约定 ">LSB 脚本注释约定</h2>
<p>在<code>init.d</code>目录的 lsb 脚本，其脚本描述信息应该用<code>### BEGIN INIT INFO</code> 和 <code>### END INIT INFO</code>来分隔。分隔行可以包行尾部空白，脚本会忽略它。在分隔行之间包围区域其描述信息需要遵循这样的格式：<br><code># {keyword}: [arg1] [arg2] ...</code>。在<code>#</code>和<code>keyword</code>之间只能而且必须有一个空格，类似下面的例子：</p>
<pre><code>    <span class="comment"># Provides: boot_facility_1 [ boot_facility_2...]</span>
    <span class="comment"># Required-Start: boot_facility_1 [ boot_facility_2...]</span>
    <span class="comment"># Required-Stop: boot_facility_1 [ boot_facility_2...]</span>
    <span class="comment"># Should-Start: boot_facility_1 [ boot_facility_2...]</span>
    <span class="comment"># Should-Stop: boot_facility_1 [ boot_facility_2...]</span>
    <span class="comment"># Default-Start: run_level_1 [ run_level_2...]</span>
    <span class="comment"># Default-Stop: run_level_1 [ run_level_2...]</span>
    <span class="comment"># Short-Description: short_description</span>
    <span class="comment"># Description: multiline_description</span>
</code></pre><p><code>init.d</code>下的 lsb 脚本可以用<code>Required-Start</code>关键字来申明在运行该脚本之前应该需要先运行哪些脚本，这些信息一般是由安装程序或者启动脚本工具根据相互依赖关系来生成其正确的顺序 (比如所有依赖网络的服务都应该应该在<code>network</code>脚本启动之后运行)。当 lsb 脚本带<code>start</code>参数运行时，在<code>Provides</code>指定的设施 (facility) 应该存在，而且 lsb 脚本也要求这些设施能够正确运行。  </p>
<p>类似的，<code>Required-Stop</code>里定义的启动设施应该在该脚本停止时都有效。  </p>
<p><code>Should-Start</code>关键字和<code>Should-Stop</code>关键字的概念和<code>Required-Start</code>及<code>Required-Stop</code>类似，只是对其后面定义的设施是希望而不是必须。  </p>
<p><code>Default-Start</code>和<code>Default-Stop</code> 定义了缺省情况下该脚本在哪些运行级别下启动和停止，它可以通过 init 脚本来控制。  </p>
<p><code>Short-Description</code>和<code>Description</code>关键字是描述该脚本的行为，如关键字说描述的那样，<code>Short-Description</code>希望是简洁的介绍该脚本，而<code>Description</code>则可以更详细一点。如果描述信息多余一行，从描述信息的第二行起，每一行都必须以<code>#</code>符号开头，然后接一个<code>tab</code>键，或者至少两个空格。  </p>
<h2 id=" 安装和移除 (removal)_init-d_ 脚本 ">安装和移除 (removal) init.d 脚本</h2>
<p>通过将脚本拷贝到<code>init.d</code>目录或者符号链接到该目录，就完成了脚本的安装工作，在执行安装包的<code>postinstall</code>脚本阶段 (RPM 包管理)，<code>/usr/lib/lsb/install_initd</code>程序调用安装程序的<code>init.d</code>脚本文件来安装，<code>/usr/lib/lsb/inistall_initd</code>程序可以带一个参数，类似如下：</p>
<p><code>/usr/lib/lsb/install_initd /etc/init.d/foo</code>  </p>
<p>如果脚本已经安装或者安装成功，该程序均返回为 0，其他情况返回为非 0 值。  </p>
<p>卸载软件包时，通过<code>preuninstall</code>脚本来调用<code>/usr/lib/lsb/remove_initd</code>程序来移走<code>init.d</code>目录对应的文件，类似如下：  </p>
<p><code>/usr/lib/lsb/remove_initd /etc/init.d/foo</code></p>
<p>如果脚本已经移除或者移除成功，则返回为 0，否则返回为非 0 值。  </p>
<p>系统发行版本应该提供一个有效的工具（比如红帽的<code>chkconfig</code>) 来提供给系统管理员来管理多运行级别下，脚本的启动停止控制。</p>
<h2 id=" 运行级别 ">运行级别</h2>
<p>绝大部分通用 Linux 发行版都提供了多种启动级别，前面说到的<code>Default-Start</code>，<code>Default-Stop</code>也表明了这点。系统 init 脚本通过调用对应运行级别目录 (<code>rc?.d</code>) 下的脚本 (符号链接) 来控制哪些脚本应该在该级别启动和停止。<code>/usr/lib/lsb/inistall_initd</code>程序通过查询脚本的<code>Default-Start</code>和<code>Default-Stop</code>的定义来创建对应运行级别目录的符号链接。<br>系统启动级别及描述如下：  </p>
<ul>
<li><strong>0</strong>  停机  </li>
<li><strong>1</strong>  单用户模式  </li>
<li><strong>2</strong>  多用户无网络模式（很少使用）  </li>
<li><strong>3</strong>  完整的多用户终端模式（无图形界面）  </li>
<li><strong>4</strong>  保留  </li>
<li><strong>5</strong>  多用户带 GUI 模式  </li>
<li><strong>6</strong>  重启  </li>
</ul>
<h2 id=" 设施 (facility) 名称 ">设施 (facility) 名称</h2>
<p>启动设施用来指示 init 脚本之间的依赖性。以<code>$</code>符号开头设施名都是系统设施，它由 LSB 定义，发行版吧必须提供。符合 LSB 规范的应用程序不能提供以<code>$</code>开头的设施名称。  当前 LSB 定义下面的几种设施名称：  </p>
<ul>
<li><strong>$local_fs</strong>  所有的本地文件系统已经挂载</li>
<li><strong>$network</strong>   底层网络已经有效 (指网卡，IP 地址，PCMCI 之类的)</li>
<li><strong>$named</strong>      域名解析后台服务 (DNS) 正在运行</li>
<li><strong>$portmap</strong>    提供 SunRPC/ONCRPC 端口映射的服务 (如果存在的话) 正在运行</li>
<li><strong>$remote_fs</strong>  所有远程文件系统已经挂载</li>
<li><strong>$syslog</strong>     系统日志服务可用</li>
<li><strong>$time</strong>       系统时钟已经设置</li>
</ul>
<p>其他 (非系统) 的设施可以由 LSB 应用程序来定义，这些设施名称应该采取脚本名同名的命名约定，通常情况下，发行版版本都是如此。  </p>
<h2 id=" 脚本名称 ">脚本名称</h2>
<p>所有的 init 脚本都在同一个目录，因此名字不能冲突，<a href="https://wiki.linuxfoundation.org/en/LSB_Wiki" title="Linux Standard Base" target="_blank">LSB</a>规范提供了三种有效命名空间方式:  </p>
<ol>
<li><p><strong>Assigned namespace</strong>   这种命令只能由<code>[a-z0-9]</code>类的字符组成 (<em>没有大写字母</em>)。为了避免名字冲突，应该去<a href="http://www.lanana.org" target="_blank">Linux Assigned Names and Numbers Authority(LANANA)</a>去申请你需要的名字。  </p>
</li>
<li><p><strong>Hierarchical namespace</strong>  这种命名空间由类似<code>[hier1]-[hier2]-...-[name]</code>组成，其中<code>name</code>由<code>[a-z0-9]</code>内的字符组成。<code>[hier-n]</code>可以有一个或者多个，<code>[hier1]</code>的名字要不是 LANANA 分配给<a href="https://wiki.linuxfoundation.org/en/LSB_Wiki" title="Linux Standard Base" target="_blank">LSB</a>的名字，要不就是脚本拥有者的 DNS 小写名称，至少包含一个<code>.</code>符号，比如<code>debian.org</code>，<code>kingbase.com</code>。 LSB 提供的名字只能由<code>[a-z0-9]</code>内的 ASCII 码组成。  </p>
</li>
<li><p><strong>Reserved namespace</strong>  这种命令空间以<code>_</code>符号开头，仅提供给版本发行商使用，而且这种命令空间也应该只用在核心软件包上。其他软件包绝不推荐这种命名方式。</p>
</li>
</ol>
<h2 id="init 脚本函数 ">init 脚本函数</h2>
<p>每一个 LSB 兼容的<code>init.d</code>脚本必须包含<code>/lib/lsb/init-functions</code>，使用方式如下:<br><code>source /lib/lsb/init-functions</code><br>LSB 自带的脚本应该仅仅依赖<code>/bin/sh</code>(<em><code>/bin/sh</code>并不总是符号链接到<code>/bin/bash</code></em>)  </p>
<ul>
<li><p><code>start_daemon [-f] [-n nicelevel] [-p pidfile] pathname [args]</code> 将指定的程序运行为守护进程 (daemon)。<code>start_daemon</code>会检查对应的程序是否已经在运行，如果是，它不会再运行一次，除非使用<code>-f</code>参数。如果使用<code>-n</code>参数指定了 nicelevel(参考 nice(1))，<code>start_daemon</code> 应该返回 LSB 定义的退出代码。  如果程序运行成功，该函数返回为 0，否则返回为非 0。</p>
</li>
<li><p><code>killproc [-p pidfile] pathname [signal]</code> 停止指定的程序。该程序应该通过<code>pidofproc</code>函数找到 (下面描述)。如果指定了<code>signal</code>，则通过给<code>kill</code>指令传递<code>-signal_name</code>或<code>-signal_number</code>参数来终止程序，如果没有，则先使用<code>SIGTERM</code>信号，如果无法终止，再使用<code>SIGKILL</code>信号。LSB 兼容的应用程序可以使用<code>basename</code>而不一定是<code>pathname</code>。 <code>killproc</code>应该返回 LSB 预定义的退出码。调用时，如果没有使用<code>signal</code>参数，该函数返回为 0，假如程序已经停止，否则返回为非 0。如果指定了<code>signal</code>参数，只有在程序还在运行的情况下，函数返回为 0。</p>
</li>
<li><p><code>pidofproc [-p pidfile] pathname</code> 该函数返回特定守护进程的一个或多个<code>pid</code>号。如果能找到<code>/var/run/basename.pid</code>文件，则返回该文件的值。如果<code>-p</code>参数指定，则返回该参数指定文件的内容。 LSB 兼容的程序可以使用<code>basename</code>而不非得是<code>pathname</code>。<code>pidofproc</code>应该返回 LSB 预定义的的退出码，以便给<code>status</code>动作使用。如果程序正在运行，他应该返回为 0，否则为非 0。</p>
</li>
<li><p><code>log_success_msg &quot;message&quot;</code>  打印一条成功消息，消息长度最好控制在 60 个字符内</p>
</li>
<li><p><code>log_failure_msg &quot;mesage&quot;</code>   打印一条失败消息，消息长度最好控制在 60 个字符内</p>
</li>
<li><p><code>log_warning_msg &quot;message&quot;</code>  打印一条警告消息，消息长度最好控制在 60 个字符内</p>
</li>
</ul>
<h2 id="chkconfig">chkconfig</h2>
<p>为了使得<code>chkconfig</code>能识别并能管理 init 脚本，需要在脚本第二行 (第一行是<code>#!/bin/bash</code>) 其增加下面这样几行:  </p>
<pre><code><span class="preprocessor">#</span>
<span class="preprocessor"># chkconfig: 35 80 5</span>
<span class="preprocessor"># description: some description about this script</span>
<span class="preprocessor"># processname: foo</span>
</code></pre><h2 id=" 检测 LSB 兼容性 ">检测 LSB 兼容性</h2>
<ol>
<li><p>服务没有启动时，执行 start 操作<br><code>/etc/init.d/some_service start; echo $?</code><br>预期结果<br>服务启动；start 操作的返回值为 0。  </p>
</li>
<li><p>服务已经启动，执行 status 操作<br><code>/etc/init.d/some_server status; echo $?</code><br>预期结果<br>服务仍在运行，status 操作显示服务正在运行并且返回值为 0。  </p>
</li>
<li><p>服务已经启动，执行 start 操作<br><code>/etc/init.d/some_service start; echo $?</code><br>预期结果<br>服务仍在运行，start 操作返回值为 0。  </p>
</li>
<li><p>服务已经启动，执行 stop 操作<br><code>/etc/init.d/some_service stop; echo $?</code><br>预期结果<br>服务停止，stop 操作的返回值为 0。  </p>
</li>
<li><p>服务已经停止，执行 status 操作<br><code>/etc/init.d/some_service status; echo $?</code><br>预期结果<br>服务保持停止，status 操作显示服务已经停止并且返回值为 3。  </p>
</li>
<li><p>服务已经停止，执行 stop 操作<br><code>/etc/init.d/some_service stop; echo $?</code><br>预期结果<br>服务保持停止，stop 操作返回值为 0。  </p>
</li>
<li><p>服务失效时，执行 status 操作<br><code>/etc/init.d/some_service status; echo $?</code><br>预期结果  </p>
</li>
</ol>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/lsb/">lsb</a>, <a href="/categories/lsb/init/">init</a>, <a href="/categories/lsb/init/linux/">linux</a>
  </div>

        
        
  <div class="addthis addthis_toolbox addthis_default_style">
    
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
    
    
      <a class="addthis_button_tweet"></a>
    
    
      <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    
    
      <a class="addthis_button_pinterest_pinit" pi:pinit:layout="horizontal"></a>
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">留言</h1>

  
      <div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=null";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>

<div class="fb-comments" data-href="http://wgzhao.com/2012/01/10/lsb-scripts-specification/" data-num-posts="5" data-width="840" data-colorscheme="light"></div>
      
  
</section>

</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:wgzhao.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/Linux技术/">Linux技术</a><small>152</small></li>
  
    <li><a href="/categories/WEB开发/">WEB开发</a><small>5</small></li>
  
    <li><a href="/categories/Linux技术/WEB开发/">WEB开发</a><small>1</small></li>
  
    <li><a href="/categories/lsb/init/">init</a><small>1</small></li>
  
    <li><a href="/categories/lsb/init/linux/">linux</a><small>1</small></li>
  
    <li><a href="/categories/lsb/">lsb</a><small>1</small></li>
  
    <li><a href="/categories/vsftp/mysql/">mysql</a><small>1</small></li>
  
    <li><a href="/categories/vsftp/mysql/pam_mysql/">pam_mysql</a><small>1</small></li>
  
    <li><a href="/categories/plan/">plan</a><small>1</small></li>
  
    <li><a href="/categories/strace/">strace</a><small>1</small></li>
  
    <li><a href="/categories/plan/summary/">summary</a><small>1</small></li>
  
    <li><a href="/categories/strace/sys call/">sys call</a><small>1</small></li>
  
    <li><a href="/categories/strace/sys call/troubleshooting/">troubleshooting</a><small>1</small></li>
  
    <li><a href="/categories/vsftp/">vsftp</a><small>1</small></li>
  
    <li><a href="/categories/我读我书/">我读我书</a><small>11</small></li>
  
    <li><a href="/categories/Linux技术/我读我书/">我读我书</a><small>5</small></li>
  
    <li><a href="/categories/技术技巧/">技术技巧</a><small>25</small></li>
  
    <li><a href="/categories/Linux技术/技术技巧/">技术技巧</a><small>4</small></li>
  
    <li><a href="/categories/数据库/">数据库</a><small>8</small></li>
  
    <li><a href="/categories/随心所想/">随心所想</a><small>111</small></li>
  
    <li><a href="/categories/我读我书/随心所想/">随心所想</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2012/12/30/some-tips-for-mac-os-x/">一些Mac OS X 的使用技巧</a>
      </li>
    
      <li>
        <a href="/2012/08/24/generate-random-strings-and-other-tips-on-postgresql/">生成随机字符串以及自动更新时间戳和返回最近插入的ID号</a>
      </li>
    
      <li>
        <a href="/2012/08/22/some-way-to-io-statistics-on-linux/">Linux下的一些I/O统计工具</a>
      </li>
    
      <li>
        <a href="/2012/08/21/explaining-the-postgresql-query-optimizer/">PostgreSQL查询优化简介</a>
      </li>
    
      <li>
        <a href="/2012/08/20/several-popular-nosql-databases-key-features-list/">几种常见的NoSQL数据库关键特性列表</a>
      </li>
    
  </ul>
</div>


  
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12">十二月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08">八月 2012</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/04">四月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/01">一月 2012</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/09">九月 2011</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/08">八月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/04">四月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/03">三月 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/08">八月 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/07">七月 2010</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/06">六月 2010</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/05">五月 2010</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/04">四月 2010</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/03">三月 2010</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/02">二月 2010</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/01">一月 2010</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/12">十二月 2009</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/11">十一月 2009</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/10">十月 2009</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/09">九月 2009</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/08">八月 2009</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/07">七月 2009</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/04">四月 2009</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/03">三月 2009</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/02">二月 2009</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/01">一月 2009</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/12">十二月 2008</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/09">九月 2008</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/08">八月 2008</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/07">七月 2008</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/06">六月 2008</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/05">五月 2008</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/04">四月 2008</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/03">三月 2008</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/02">二月 2008</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/01">一月 2008</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/12">十二月 2007</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/11">十一月 2007</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/10">十月 2007</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/09">九月 2007</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/08">八月 2007</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/07">七月 2007</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/06">六月 2007</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/05">五月 2007</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/04">四月 2007</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/03">三月 2007</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/02">二月 2007</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/01">一月 2007</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/12">十二月 2006</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/11">十一月 2006</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/10">十月 2006</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/09">九月 2006</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/08">八月 2006</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/07">七月 2006</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/06">六月 2006</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/05">五月 2006</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/04">四月 2006</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/03">三月 2006</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/01">一月 2006</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2005/12">十二月 2005</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2005/11">十一月 2005</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2005/09">九月 2005</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2005/05">五月 2005</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2005/04">四月 2005</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2005/03">三月 2005</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2005/01">一月 2005</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2004/12">十二月 2004</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2004/10">十月 2004</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2014 wgzhao
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
var disqus_shortname = 'wgzhao';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>