<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Linux下的一些I/O统计工具 | Linux系统管理</title>
  <meta name="author" content="wgzhao">
  
  <meta name="description" content="Linux,SA,DBA,bigdata">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Linux下的一些I/O统计工具"/>
  <meta property="og:site_name" content="Linux系统管理"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Linux系统管理" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Linux系统管理</a></h1>
  <h2><a href="/">关注Linux系统管理，运维开发以及大数据</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2012-08-22T02:25:00.000Z"><a href="/2012/08/22/some-way-to-io-statistics-on-linux/">8月 22 2012</a></time>
      
      
  
    <h1 class="title">Linux下的一些I/O统计工具</h1>
  

    </header>
    <div class="entry">
      
        <p>作为一个 Linux 系统管理员，统计各类 IO 是一项必不可少的工作。其统计工具中 iostat 显然又是最重要的一个统计手段。但是这里 iostat 不是本文的重点，因为这个工具的使用在网络上已经有大量的教程，可以供大家参考。这里主要是想介绍一些其他统计工具以来满足不同的需求。</p>
<h3 id="iostat">iostat</h3>
<p>iostat 的功能异常强大，输出项也特别多，比如下面这个例子：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre><span class="attribute">Device</span>: <span class="string">rrqm/s  wrqm/s  r/s     w/s    rkB/s    wkB/s    avgrq-sz avgqu-sz   await r_await w_await  svctm  %util</span>

<span class="undefined">sda     0.00     0.50  173.50   73.50  3076.00   604.00    29.80   149.93    676.58   74.36 2098.15  4.05 100.00</span>
</pre></td></tr></table></figure>

<p>其各项的含义分别是：</p>
<a id="more"></a>

<ul>
<li>rrqm/s:       每秒进行 merge 的读操作数目. 即 delta(rmerge)/s</li>
<li>wrqm/s:  每秒进行 merge 的写操作数目. 即 delta(wmerge)/s</li>
<li>r/s:               每秒完成的读 I/O 设备次数. 即 delta(rio)/s</li>
<li>w/s:             每秒完成的写 I/O 设备次数. 即 delta(wio)/s</li>
<li>rsec/s:        每秒读扇区数. 即 delta(rsect)/s</li>
<li>wsec/s:      每秒写扇区数. 即 delta(wsect)/s</li>
<li>rkB/s:          每秒读 K 字节数. 是 rsect/s 的一半, 因为每扇区大小为 512 字节.(需要计算)</li>
<li>wkB/s:    每秒写 K 字节数. 是 wsect/s 的一半.(需要计算)</li>
<li>avgrq-sz: 平均每次设备 I/O 操作的数据大小 (扇区).delta(rsect+wsect)/delta(rio+wio)</li>
<li>avgqu-sz: 平均 I/O 队列长度. 即 delta(aveq)/s/1000 (因为 aveq 的单位为毫秒).</li>
<li>await:        平均每次设备 I/O 操作的等待时间 (毫秒). 即 delta(ruse+wuse)/delta(rio+wio)</li>
<li>svctm:       平均每次设备 I/O 操作的服务时间 (毫秒). 即 delta(use)/delta(rio+wio)</li>
<li>%util:          一秒中有百分之多少的时间用于 I/O 操作, 或者说一秒中有多少时间 I/O 队列是非空的. 即 delta(use)/s/1000 (因为 use 的单位为毫秒)</li>
</ul>
<p>如果 <code>%util</code> 接近 100%, 说明产生的 I/O 请求太多,I/O 系统已经满负荷, 该磁盘可能存在瓶颈.</p>
<p>idle 小于 70% IO 压力就较大了, 一般读取速度有较多的 wait.</p>
<p>同时可以结合<code>vmstat</code>查看查看 b 参数 (等待资源的进程数) 和 wa 参数 (IO 等待所占用的 CPU 时间的百分比, 高过 30% 时 IO 压力高)</p>
<p>另外 <code>await</code> 的参数也要多和 <code>svctm</code> 来参考。差的过高就一定有 IO 的问题.</p>
<p><code>avgrq-sz</code> 也是个做 IO 调优时需要注意的地方, 这个就是直接每次操作的数据的大小, 如果次数多, 但数据拿的小的话, 其实 IO 也会很小. 如果数据拿的大, 才 IO 的数据会高. 也可以通过 <code>avgqu-sz × ( r/s or w/s ) = rsec/s or wsec/s</code>. 也就是讲, 读定速度是这个来决定的.</p>
<p><code>svctm</code> 一般要小于 <code>await</code> (因为同时等待的请求的等待时间被重复计算了),<code>svctm</code> 的大小一般和磁盘性能有关,CPU/ 内存的负荷也会对其有影响, 请求过多也会间接导致 <code>svctm</code> 的增加.<code>await</code> 的大小一般取决于服务时间 (<code>svctm</code>) 以及 I/O 队列的长度和 I/O 请求的发出模式. 如果 svctm 比较接近 await, 说明 I/O 几乎没有等待时间；如果 await 远大于 svctm, 说明 I/O 队列太长, 应用得到的响应时间变慢, 如果响应时间超过了用户可以容许的范围, 这时可以考虑更换更快的磁盘, 调整内核 <code>elevator</code> 算法, 优化应用, 或者升级 CPU.</p>
<p> 队列长度 (<code>avgqu-sz</code>) 也可作为衡量系统 I/O 负荷的指标, 但由于 <code>avgqu-sz</code> 是按照单位时间的平均值, 所以不能反映瞬间的 I/O 洪水.</p>
<p>有时间的话，我会单独写几个帖子来说说<code>iostat</code>。</p>
<h3 id="iodump">iodump</h3>
<p><a href="http://aspersa.googlecode.com/svn/trunk/iodump" target="_blank">iodump</a> 是一个统计每一个进程 (线程) 所消耗的磁盘 I/O 工具。这个一个 perl 脚本，其原理时打开有关 I/O 的内核记录消息开关，而后读取消息然后分析输出。简单使用步骤如下：</p>
<p>首先下载这个工具</p>
<p><code>wget http://aspersa.googlecode.com/svn/trunk/iodump</code></p>
<p>然后打开有关 I/O 内核消息的开关</p>
<p><code>echo 1 &gt;/proc/sys/vm/block_dump</code></p>
<p>上述开关打开后，内核会记录下每一个 I/O 操作的消息。我们只需要定时获取并分析就好了，比如下面这样</p>
<p><code>while true; do sleep 1; dmesg -c ; done |perl iodump</code></p>
<p>等待一段时间，然后通过<code>ctrl+c</code>来结束上述脚本，你将获得下面类似的信息:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
</pre></td><td class="code"><pre>TASK                   PID      TOTAL       <span class="keyword">READ</span>      <span class="keyword">WRITE</span>      DIRTY DEVICES
postgres              <span class="number">5799</span>       <span class="number">1919</span>       <span class="number">1919</span>          <span class="number">0</span>          <span class="number">0</span> sda7
jbd2/sda7-<span class="number">8</span>           <span class="number">1572</span>         <span class="number">35</span>          <span class="number">0</span>         <span class="number">35</span>          <span class="number">0</span> sda7
jbd2/sda2-<span class="number">8</span>            <span class="number">250</span>         <span class="number">32</span>          <span class="number">0</span>         <span class="number">32</span>          <span class="number">0</span> sda2
flush-<span class="number">8</span>:<span class="number">0</span>             <span class="number">2229</span>         <span class="number">31</span>          <span class="number">0</span>         <span class="number">31</span>          <span class="number">0</span> sda2, sda7
postgres              <span class="number">4308</span>          <span class="number">2</span>          <span class="number">0</span>          <span class="number">2</span>          <span class="number">0</span> sda7
bash                  <span class="number">5804</span>          <span class="number">1</span>          <span class="number">0</span>          <span class="number">1</span>          <span class="number">0</span> sda2
</pre></td></tr></table></figure>

<p>上述输出的单位为块 (block)，每块的大小取决于创建文件系统时指定的块大小。比如我这个里的 sda7 的 block 大小是 1KB。</p>
<h3 id="iotop">iotop</h3>
<p><a href="http://guichaz.free.fr/iotop/" target="_blank">iotop</a>是一个 Python 编写的工具，有类似<code>top</code>工具的 UI，包括一些参数也和<code>top</code>类似。不过它对系统有一些要求，分别是：</p>
<ol>
<li>Python ≥ 2.5 or Python ≥  2.4 with the ctypes module</li>
<li>Kernel ≥  2.6.20</li>
<li>Kernel uses options:<ol>
<li>TASK_DELAY_ACCT </li>
<li>CONFIG_TASKSTATS</li>
<li>TASK_IO_ACCOUNTING</li>
<li>CONFIG_VM_EVENT_COUNTERS </li>
</ol>
</li>
</ol>
<p>如果是基于 RPM 包的系统，可以直接下载编译好的二进制包 (<a href="http://guichaz.free.fr/iotop/files/iotop-0.4.4-1.noarch.rpm" target="_blank">here</a>) 或者二进制源代码包 (<a href="http://guichaz.free.fr/iotop/files/iotop-0.4.4-1.src.rpm" target="_blank">here</a>)</p>
<p>如果是 Debian/Ubuntu 系统，直接使用</p>
<p><code>sudo apt-get install iotop</code></p>
<p>即可（不得不说，Debian 系统提供的软件真的是相当丰富呀)，其他系统则可以通过下面的指令下载源代码，然后编译</p>
<p><code>git clone git://repo.or.cz/iotop.git</code></p>
<p>具体的使用方法可以参考 iotop(8) 手册，下面是在我机器上的一个显示：  </p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre>iotop -o -u wgzhao
<span class="keyword">Total</span> DISK READ:       <span class="number">2.15</span> M/s | <span class="keyword">Total</span> DISK WRITE:    <span class="number">1601.15</span> <span class="keyword">K</span>/s
  TID  PRIO  USER     DISK READ  DISK WRITE  SWAPIN      IO    COMMAND
 <span class="number">5984</span> be/<span class="number">4</span> wgzhao      <span class="number">2.15</span> M/s   <span class="number">70.55</span> <span class="keyword">K</span>/s  <span class="number">0.00</span> % <span class="number">83.67</span> % postgres: wgzhao pgbench [local] UPDATE
 <span class="number">4305</span> be/<span class="number">4</span> wgzhao      <span class="number">0.00</span> B/s  <span class="number">227.34</span> <span class="keyword">K</span>/s  <span class="number">0.00</span> %  <span class="number">0.00</span> % postgres: writer process
 <span class="number">4308</span> be/<span class="number">4</span> wgzhao      <span class="number">0.00</span> B/s   <span class="number">90.15</span> <span class="keyword">K</span>/s  <span class="number">0.00</span> %  <span class="number">0.00</span> % postgres: stats collector process
</pre></td></tr></table></figure>

<h3 id="iopp">iopp</h3>
<p><a href="https://github.com/markwkm/iopp" target="_blank">iopp</a>是另外一个统计每一个进程 I/O 的工具，使用 C 语言编写，理论上应该比上述两个重狙效率都要高。<br>安装方法很简单，首先通过下面的指令下载源代码:</p>
<p><code>git://github.com/markwkm/iopp.git</code></p>
<p>然后分别通过下面的指令编译安装</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre>cmake CMakeLists.txt
<span class="built_in">make</span>
<span class="built_in">make</span> install DESTDIR=/usr
</pre></td></tr></table></figure>

<p>下面是一个使用例子</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="code"><pre>iopp -i -c <span class="number">2</span>
  pid    rchar    wchar    syscr    syscw   rbytes   wbytes  cwbytes <span class="command"><span class="keyword">command</span></span>
 <span class="number">2144</span>        <span class="number">0</span>      <span class="number">296</span>       <span class="number">40</span>        <span class="number">8</span>        <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span> /usr/sbin/LCDd
 <span class="number">2284</span>        <span class="number">0</span>        <span class="number">0</span>        <span class="number">2</span>        <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span> ha_logd: <span class="built_in">read</span> <span class="built_in">process</span>
 <span class="number">2299</span>        <span class="number">0</span>        <span class="number">0</span>        <span class="number">2</span>        <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span> ha_logd: <span class="built_in">write</span> <span class="built_in">process</span>
 <span class="number">2520</span>        <span class="number">3</span>        <span class="number">3</span>        <span class="number">3</span>        <span class="number">3</span>        <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span> /usr/lib/virtualbox/vboxwebsrv
 <span class="number">2599</span>        <span class="number">2</span>        <span class="number">2</span>        <span class="number">2</span>        <span class="number">2</span>        <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span> /usr/lib/virtualbox/VBoxSVC
 <span class="number">2675</span>        <span class="number">0</span>        <span class="number">0</span>        <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span> runsvdir
 <span class="number">3177</span>       <span class="number">16</span>       <span class="number">16</span>        <span class="number">4</span>        <span class="number">2</span>        <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span> /usr/bin/gnome-<span class="built_in">shell</span>
 <span class="number">3192</span>       <span class="number">16</span>       <span class="number">16</span>        <span class="number">4</span>        <span class="number">2</span>        <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span> nautilus
 <span class="number">3305</span>      <span class="number">180</span>      <span class="number">340</span>      <span class="number">100</span>       <span class="number">60</span>        <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span> /usr/lib/icedove/icedove-bin
 <span class="number">3623</span>     <span class="number">1393</span>     <span class="number">1440</span>        <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span> sshd: wgzhao@pts/<span class="number">0</span>
 <span class="number">4305</span>        <span class="number">0</span>  <span class="number">4603904</span>        <span class="number">0</span>      <span class="number">562</span>        <span class="number">0</span>  <span class="number">4603904</span>        <span class="number">0</span> postgres: writer <span class="built_in">process</span>   
 <span class="number">6257</span>  <span class="number">2064384</span>  <span class="number">1892352</span>      <span class="number">252</span>      <span class="number">215</span>  <span class="number">3719168</span>   <span class="number">139264</span>        <span class="number">0</span> postgres: wgzhao pgbench [<span class="built_in">local</span>] UPDATE
</pre></td></tr></table></figure>

<p>上述输出的各项含义是：</p>
<ul>
<li>pid 进程 ID</li>
<li>rchar 将要从磁盘读取的字节数</li>
<li>wchar 已经写入或应该要写入磁盘的字节数</li>
<li>syscr 读 I/O 数</li>
<li>syscw 写 I/O 数</li>
<li>rbytes 真正从磁盘读取的字节数</li>
<li>wbytes 真正写入到磁盘的字节数</li>
<li>cwbytes 因为清空页面缓存而导致没有发生操作的字节数</li>
<li>command 执行的命令</li>
</ul>
<p>其中<code>rbytes</code>,<code>wbytes</code>,<code>cwbytes</code>会因给出<code>-k</code>或者<code>-m</code>参数，而显示为<code>rkb</code>,<code>wkb</code>,<code>cwkb</code>或<code>rmb</code>,<code>wmb</code>,<code>cwmb</code>。<code>command</code>一列如果给出<code>-c</code>的参数则显示完整的命令名而不仅仅只是命令本身。<br>这些参数的使用和<code>top</code>类似。</p>
<p>更具体的可以参考 iopp(8) 手册。</p>
<h3 id="dstat">dstat</h3>
<p><a href="http://dag.wieers.com/home-made/dstat/" target="_blank">dstat</a> 号称各种资源统计工具，其目的是想替代<code>vmstat</code>,<code>iostat</code>,<code>netstat</code>,<code>ifstat</code>等各种单一统计工具，从而做到<code>All in one</code>。 dstat 用 Python 语言编写。 </p>
<p>dstat 能够清晰显示每列的信息，特别是单位及大小很明确，不会在单位换算上犯迷糊和失误。最重要的是，因为它是基于模块化设计，因此我们可以很容易的写一个插件来收集我们需要的统计信息。  </p>
<p>另外，dstat 的输出还可以导出为<code>CSV</code>格式文件，从而可以在电子表格工具里分方便的生成统计图形。</p>
<p>目前 dstat 的插件已经相当多了，这是我机器上目前的输出:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="code"><pre>$ dstat  <span class="subst">--</span><span class="built_in">list</span>
internal:
trueaio, cpu, cpu24, disk, disk24, disk24old, epoch, fs, int, int24, io, ipc, load, lock, mem, net, 
truepage, page24, proc, raw, socket, swap, swapold, sys, tcp, time, udp, unix, vm
/usr/share/dstat:
truebattery, battery<span class="attribute">-remain</span>, cpufreq, dbus, disk<span class="attribute">-tps</span>, disk<span class="attribute">-util</span>, dstat, dstat<span class="attribute">-cpu</span>, dstat<span class="attribute">-ctxt</span>, 
truedstat<span class="attribute">-mem</span>, fan, freespace, gpfs, gpfs<span class="attribute">-ops</span>, helloworld, innodb<span class="attribute">-buffer</span>, innodb<span class="attribute">-io</span>, innodb<span class="attribute">-ops</span>, lustre, 
truememcache<span class="attribute">-hits</span>, mysql<span class="attribute">-io</span>, mysql<span class="attribute">-keys</span>, mysql5<span class="attribute">-cmds</span>, mysql5<span class="attribute">-io</span>, mysql5<span class="attribute">-keys</span>, net<span class="attribute">-packets</span>, nfs3, 
truenfs3<span class="attribute">-ops</span>, nfsd3, nfsd3<span class="attribute">-ops</span>, ntp, postfix, power, proc<span class="attribute">-count</span>, qmail, rpc, rpcd, sendmail, snooze, 
truesquid, test, thermal, top<span class="attribute">-bio</span>, top<span class="attribute">-bio</span><span class="attribute">-adv</span>, top<span class="attribute">-childwait</span>, top<span class="attribute">-cpu</span>, top<span class="attribute">-cpu</span><span class="attribute">-adv</span>, top<span class="attribute">-cputime</span>, 
truetop<span class="attribute">-cputime</span><span class="attribute">-avg</span>, top<span class="attribute">-int</span>, top<span class="attribute">-io</span>, top<span class="attribute">-io</span><span class="attribute">-adv</span>, top<span class="attribute">-latency</span>, top<span class="attribute">-latency</span><span class="attribute">-avg</span>, top<span class="attribute">-mem</span>, top<span class="attribute">-oom</span>, utmp, 
truevm<span class="attribute">-memctl</span>, vmk<span class="attribute">-hba</span>, vmk<span class="attribute">-int</span>, vmk<span class="attribute">-nic</span>, vz<span class="attribute">-cpu</span>, vz<span class="attribute">-io</span>, vz<span class="attribute">-ubc</span>, wifi
</pre></td></tr></table></figure>

<p>下面给出几个使用的列子（实际输出是带彩色的，很容易识别）</p>
<p>dstat 的缺省输出</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="code"><pre>wgzhao-nb:~<span class="preprocessor"># dstat</span>
You did not select any stats, using -cdngy by default.
----total-cpu-usage---- -dsk/total- -net/total- ---paging-- ---system--
usr sys idl wai hiq siq<span class="string">| read  writ| recv  send|  in   out | int   csw </span>
  <span class="number">2</span>   <span class="number">1</span>  <span class="number">87</span>  <span class="number">10</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">| 816k  385k|   0     0 |   0     0 |2279  7048 </span>
  <span class="number">5</span>   <span class="number">1</span>  <span class="number">78</span>  <span class="number">16</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|2600k    0 | 140B  940B|   0     0 |5952    13k</span>
  <span class="number">5</span>   <span class="number">3</span>  <span class="number">80</span>  <span class="number">12</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|2896k  182k|  70B  358B|   0     0 |6074    14k</span>
  <span class="number">4</span>   <span class="number">2</span>  <span class="number">78</span>  <span class="number">16</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|2724k    0 |  70B  374B|   0     0 |5703    15k</span>
  <span class="number">4</span>   <span class="number">2</span>  <span class="number">81</span>  <span class="number">14</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|3008k    0 |  70B  358B|   0     0 |5924    13k</span>
  <span class="number">5</span>   <span class="number">1</span>  <span class="number">80</span>  <span class="number">14</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|1976k   17k|  70B  358B|   0     0 |5819    13k</span>
  <span class="number">5</span>   <span class="number">2</span>  <span class="number">79</span>  <span class="number">14</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|2056k    0 | 198B  374B|   0     0 |5618    13k</span>
  <span class="number">4</span>   <span class="number">2</span>  <span class="number">79</span>  <span class="number">15</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|2416k    0 |  70B  358B|   0     0 |5866    15k</span>
  <span class="number">5</span>   <span class="number">2</span>  <span class="number">78</span>  <span class="number">15</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|2528k    0 |  70B  358B|   0     0 |6356    14k</span>
  <span class="number">5</span>   <span class="number">2</span>  <span class="number">78</span>  <span class="number">16</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|2288k    0 |  70B  358B|   0     0 |6515    15k</span>
  <span class="number">5</span>   <span class="number">2</span>  <span class="number">79</span>  <span class="number">14</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|2656k 8192B|  70B  358B|   0     0 |6490    15k</span>
  <span class="number">3</span>   <span class="number">2</span>  <span class="number">81</span>  <span class="number">13</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|2296k    0 |  70B  374B|   0     0 |5573    15k</span>
  <span class="number">4</span>   <span class="number">3</span>  <span class="number">76</span>  <span class="number">17</span>   <span class="number">0</span>   <span class="number">1</span><span class="string">|2224k    0 |  70B  358B|   0     0 |5366    12k</span>
  <span class="number">5</span>   <span class="number">1</span>  <span class="number">81</span>  <span class="number">13</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|2208k    0 | 508B  358B|   0     0 |5403    13k</span>
  <span class="number">4</span>   <span class="number">2</span>  <span class="number">79</span>  <span class="number">15</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|2024k  182k|  70B  358B|   0     0 |5583    13k</span>
  <span class="number">5</span>   <span class="number">2</span>  <span class="number">79</span>  <span class="number">15</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|2148k   17k| 186B  490B|   0     0 |5400    12k</span>
</pre></td></tr></table></figure>

<p>指定需要显示的列</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="code"><pre>wgzhao-nb:~<span class="preprocessor"># dstat  -c --top-cpu -d --top-bio --top-latency</span>
Module dstat_top_latency failed to load. (Kernel has no scheduler statistics, use at least <span class="number">2.6</span>.<span class="number">12</span>)
----total-cpu-usage---- -most-expensive- -dsk/total- ----most-expensive----
usr sys idl wai hiq siq<span class="string">|  cpu process   | read  writ|  block i/o process   </span>
  <span class="number">2</span>   <span class="number">1</span>  <span class="number">87</span>  <span class="number">10</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|gnome-shell  0.7| 826k  384k|postgres    692k   52k</span>
  <span class="number">4</span>   <span class="number">2</span>  <span class="number">79</span>  <span class="number">16</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|postgres: wgz3.0|1744k  776k|postgres: w1744k   72k</span>
  <span class="number">5</span>   <span class="number">3</span>  <span class="number">78</span>  <span class="number">15</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|postgres: wgz5.0|3120k    0 |postgres: w3064k  136k</span>
  <span class="number">6</span>   <span class="number">2</span>  <span class="number">73</span>  <span class="number">19</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|postgres: wgz4.2|2608k  285k|postgres: w2608k  136k</span>
  <span class="number">4</span>   <span class="number">2</span>  <span class="number">77</span>  <span class="number">17</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|postgres: wgz3.5|2112k  848k|postgres: w2112k   88k</span>
  <span class="number">3</span>   <span class="number">2</span>  <span class="number">71</span>  <span class="number">25</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|postgres: wgz2.0| 944k 1049k|postgres: w 936k   48k</span>
  <span class="number">3</span>   <span class="number">2</span>  <span class="number">58</span>  <span class="number">37</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|postgres: wgz2.0| 920k 2070k|postgres: w 928k   64k</span>
  <span class="number">3</span>   <span class="number">2</span>  <span class="number">62</span>  <span class="number">34</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|postgres: wgz2.2|1496k  992k|postgres: w1608k   72k</span>
  <span class="number">3</span>   <span class="number">2</span>  <span class="number">56</span>  <span class="number">38</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|postgres: wgz3.0|1840k  645k|postgres: w1856k   88k</span>
  <span class="number">3</span>   <span class="number">2</span>  <span class="number">78</span>  <span class="number">17</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|postgres: wgz3.0|1420k 1200k|postgres: w1292k   80k</span>
  <span class="number">5</span>   <span class="number">2</span>  <span class="number">80</span>  <span class="number">12</span>   <span class="number">0</span>   <span class="number">1</span><span class="string">|postgres: wgz4.2|2628k    0 |postgres: w2636k  112k</span>
  <span class="number">4</span>   <span class="number">3</span>  <span class="number">69</span>  <span class="number">25</span>   <span class="number">0</span>   <span class="number">0</span><span class="string">|postgres: wgz3.8|2168k  576k|postgres: w2224k  104k</span>
</pre></td></tr></table></figure>

<p>指定需要显示的列，并同时将结果导出到文件</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="code"><pre><span class="comment">wgzhao</span><span class="literal">-</span><span class="comment">nb:~#</span> <span class="comment">dstat</span>  <span class="literal">-</span><span class="literal">-</span><span class="comment">disk</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">mem</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">proc</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">io</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">sys</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">filesystem</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">tcp</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">vm</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">output</span> <span class="comment">dstat</span><span class="string">.</span><span class="comment">csv</span>
<span class="literal">-</span><span class="comment">dsk/total</span><span class="literal">-</span> <span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">memory</span><span class="literal">-</span><span class="comment">usage</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span> <span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">procs</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">io/total</span><span class="literal">-</span> <span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">system</span><span class="literal">-</span><span class="literal">-</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">filesystem</span><span class="literal">-</span> <span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">tcp</span><span class="literal">-</span><span class="comment">sockets</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span> <span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">virtual</span><span class="literal">-</span><span class="comment">memory</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span>
 <span class="comment">read</span>  <span class="comment">writ|</span> <span class="comment">used</span>  <span class="comment">buff</span>  <span class="comment">cach</span>  <span class="comment">free|run</span> <span class="comment">blk</span> <span class="comment">new|</span> <span class="comment">read</span>  <span class="comment">writ|</span> <span class="comment">int</span>   <span class="comment">csw</span> <span class="comment">|files</span>  <span class="comment">inodes|lis</span> <span class="comment">act</span> <span class="comment">syn</span> <span class="comment">tim</span> <span class="comment">clo|majpf</span> <span class="comment">minpf</span> <span class="comment">alloc</span>  <span class="comment">free</span>
 <span class="comment">844k</span>  <span class="comment">404k|</span> <span class="comment">829M</span> <span class="comment">19</span><span class="string">.</span><span class="comment">4M</span> <span class="comment">2920M</span>  <span class="comment">124M|</span>  <span class="comment">0</span> <span class="comment">0</span><span class="string">.</span><span class="comment">0</span> <span class="comment">0</span><span class="string">.</span><span class="comment">7|47</span><span class="string">.</span><span class="comment">5</span>  <span class="comment">38</span><span class="string">.</span><span class="comment">4</span> <span class="comment">|2336</span>  <span class="comment">7185</span> <span class="comment">|</span> <span class="comment">4928</span>  <span class="comment">12286</span> <span class="comment">|</span> <span class="comment">11</span>   <span class="comment">3</span>   <span class="comment">0</span>   <span class="comment">0</span>   <span class="comment">2|</span>   <span class="comment">1</span>   <span class="comment">620</span>   <span class="comment">602</span>   <span class="comment">605</span> 
<span class="comment">2128k</span> <span class="comment">1526k|</span> <span class="comment">828M</span> <span class="comment">19</span><span class="string">.</span><span class="comment">4M</span> <span class="comment">2915M</span>  <span class="comment">130M|</span>  <span class="comment">0</span> <span class="comment">2</span><span class="string">.</span><span class="comment">0</span>   <span class="comment">0|</span> <span class="comment">111</span>   <span class="comment">157</span> <span class="comment">|4588</span>    <span class="comment">14k|</span> <span class="comment">4928</span>  <span class="comment">12285</span> <span class="comment">|</span> <span class="comment">11</span>   <span class="comment">3</span>   <span class="comment">0</span>   <span class="comment">0</span>   <span class="comment">2|</span>   <span class="comment">0</span>  <span class="comment">1859</span>   <span class="comment">995</span>  <span class="comment">2278</span> 
 <span class="comment">920k</span> <span class="comment">2151k|</span> <span class="comment">826M</span> <span class="comment">19</span><span class="string">.</span><span class="comment">4M</span> <span class="comment">2917M</span>  <span class="comment">129M|</span>  <span class="comment">0</span> <span class="comment">2</span><span class="string">.</span><span class="comment">0</span>   <span class="comment">0|52</span><span class="string">.</span><span class="comment">0</span>   <span class="comment">237</span> <span class="comment">|3091</span>  <span class="comment">7540</span> <span class="comment">|</span> <span class="comment">4928</span>  <span class="comment">12284</span> <span class="comment">|</span> <span class="comment">11</span>   <span class="comment">3</span>   <span class="comment">0</span>   <span class="comment">0</span>   <span class="comment">2|</span>   <span class="comment">0</span>  <span class="comment">4448</span>  <span class="comment">2330</span>  <span class="comment">2144</span> 
<span class="comment">2124k</span> <span class="comment">1003k|</span> <span class="comment">826M</span> <span class="comment">19</span><span class="string">.</span><span class="comment">4M</span> <span class="comment">2921M</span>  <span class="comment">126M|1</span><span class="string">.</span><span class="comment">0</span> <span class="comment">1</span><span class="string">.</span><span class="comment">0</span>   <span class="comment">0|</span> <span class="comment">135</span>   <span class="comment">106</span> <span class="comment">|4705</span>    <span class="comment">14k|</span> <span class="comment">4928</span>  <span class="comment">12284</span> <span class="comment">|</span> <span class="comment">11</span>   <span class="comment">3</span>   <span class="comment">0</span>   <span class="comment">0</span>   <span class="comment">2|</span>   <span class="comment">0</span>   <span class="comment">331</span>   <span class="comment">865</span>     <span class="comment">1</span> 
<span class="comment">2344k</span> <span class="comment">1024k|</span> <span class="comment">826M</span> <span class="comment">19</span><span class="string">.</span><span class="comment">4M</span> <span class="comment">2924M</span>  <span class="comment">122M|1</span><span class="string">.</span><span class="comment">0</span> <span class="comment">2</span><span class="string">.</span><span class="comment">0</span>   <span class="comment">0|</span> <span class="comment">121</span>   <span class="comment">118</span> <span class="comment">|4074</span>    <span class="comment">13k|</span> <span class="comment">4928</span>  <span class="comment">12284</span> <span class="comment">|</span> <span class="comment">11</span>   <span class="comment">3</span>   <span class="comment">0</span>   <span class="comment">0</span>   <span class="comment">2|</span>   <span class="comment">0</span>   <span class="comment">249</span>   <span class="comment">953</span>     <span class="comment">1</span> 
<span class="comment">1572k</span> <span class="comment">1624k|</span> <span class="comment">827M</span> <span class="comment">19</span><span class="string">.</span><span class="comment">4M</span> <span class="comment">2926M</span>  <span class="comment">120M|1</span><span class="string">.</span><span class="comment">0</span> <span class="comment">2</span><span class="string">.</span><span class="comment">0</span>   <span class="comment">0|87</span><span class="string">.</span><span class="comment">0</span>   <span class="comment">190</span> <span class="comment">|3231</span>    <span class="comment">11k|</span> <span class="comment">4928</span>  <span class="comment">12284</span> <span class="comment">|</span> <span class="comment">11</span>   <span class="comment">3</span>   <span class="comment">0</span>   <span class="comment">0</span>   <span class="comment">2|</span>   <span class="comment">0</span>    <span class="comment">98</span>   <span class="comment">530</span>     <span class="comment">1</span> 
 <span class="comment">916k</span>  <span class="comment">788k|</span> <span class="comment">827M</span> <span class="comment">19</span><span class="string">.</span><span class="comment">4M</span> <span class="comment">2928M</span>  <span class="comment">119M|</span>  <span class="comment">0</span> <span class="comment">2</span><span class="string">.</span><span class="comment">0</span>   <span class="comment">0|68</span><span class="string">.</span><span class="comment">0</span>  <span class="comment">92</span><span class="string">.</span><span class="comment">0</span> <span class="comment">|3452</span>  <span class="comment">8709</span> <span class="comment">|</span> <span class="comment">4928</span>  <span class="comment">12284</span> <span class="comment">|</span> <span class="comment">11</span>   <span class="comment">3</span>   <span class="comment">0</span>   <span class="comment">0</span>   <span class="comment">2|</span>   <span class="comment">0</span>   <span class="comment">128</span>   <span class="comment">383</span>     <span class="comment">4</span> 
<span class="comment">2452k</span> <span class="comment">1665k|</span> <span class="comment">826M</span> <span class="comment">19</span><span class="string">.</span><span class="comment">4M</span> <span class="comment">2931M</span>  <span class="comment">116M|1</span><span class="string">.</span><span class="comment">0</span> <span class="comment">1</span><span class="string">.</span><span class="comment">0</span>   <span class="comment">0|</span> <span class="comment">132</span>   <span class="comment">197</span> <span class="comment">|4779</span>    <span class="comment">14k|</span> <span class="comment">4928</span>  <span class="comment">12284</span> <span class="comment">|</span> <span class="comment">11</span>   <span class="comment">3</span>   <span class="comment">0</span>   <span class="comment">0</span>   <span class="comment">2|</span>   <span class="comment">0</span>   <span class="comment">208</span>   <span class="comment">822</span>     <span class="comment">1</span> 
<span class="comment">1552k</span> <span class="comment">1328k|</span> <span class="comment">827M</span> <span class="comment">19</span><span class="string">.</span><span class="comment">4M</span> <span class="comment">2933M</span>  <span class="comment">114M|</span>  <span class="comment">0</span> <span class="comment">2</span><span class="string">.</span><span class="comment">0</span>   <span class="comment">0|97</span><span class="string">.</span><span class="comment">0</span>   <span class="comment">156</span> <span class="comment">|3762</span>  <span class="comment">9117</span> <span class="comment">|</span> <span class="comment">4928</span>  <span class="comment">12284</span> <span class="comment">|</span> <span class="comment">11</span>   <span class="comment">3</span>   <span class="comment">0</span>   <span class="comment">0</span>   <span class="comment">2|</span>   <span class="comment">0</span>   <span class="comment">133</span>   <span class="comment">473</span>     <span class="comment">1</span> 
<span class="comment">1192k</span> <span class="comment">2024k|</span> <span class="comment">827M</span> <span class="comment">19</span><span class="string">.</span><span class="comment">4M</span> <span class="comment">2934M</span>  <span class="comment">112M|</span>  <span class="comment">0</span> <span class="comment">2</span><span class="string">.</span><span class="comment">0</span>   <span class="comment">0|81</span><span class="string">.</span><span class="comment">0</span>   <span class="comment">239</span> <span class="comment">|4068</span>    <span class="comment">11k|</span> <span class="comment">4928</span>  <span class="comment">12284</span> <span class="comment">|</span> <span class="comment">11</span>   <span class="comment">3</span>   <span class="comment">0</span>   <span class="comment">0</span>   <span class="comment">2|</span>   <span class="comment">0</span>   <span class="comment">135</span>   <span class="comment">414</span>     <span class="comment">2</span> 
<span class="comment">2668k</span>  <span class="comment">584k|</span> <span class="comment">827M</span> <span class="comment">19</span><span class="string">.</span><span class="comment">4M</span> <span class="comment">2937M</span>  <span class="comment">109M|</span>  <span class="comment">0</span> <span class="comment">2</span><span class="string">.</span><span class="comment">0</span>   <span class="comment">0|</span> <span class="comment">148</span>  <span class="comment">71</span><span class="string">.</span><span class="comment">0</span> <span class="comment">|4415</span>    <span class="comment">10k|</span> <span class="comment">4928</span>  <span class="comment">12284</span> <span class="comment">|</span> <span class="comment">11</span>   <span class="comment">3</span>   <span class="comment">0</span>   <span class="comment">0</span>   <span class="comment">2|</span>   <span class="comment">0</span>   <span class="comment">174</span>   <span class="comment">870</span>     <span class="comment">4</span> 
<span class="comment">1712k</span>  <span class="comment">960k|</span> <span class="comment">827M</span> <span class="comment">19</span><span class="string">.</span><span class="comment">4M</span> <span class="comment">2940M</span>  <span class="comment">106M|</span>  <span class="comment">0</span> <span class="comment">2</span><span class="string">.</span><span class="comment">0</span>   <span class="comment">0|</span> <span class="comment">122</span>   <span class="comment">113</span> <span class="comment">|4454</span>    <span class="comment">14k|</span> <span class="comment">4928</span>  <span class="comment">12284</span> <span class="comment">|</span> <span class="comment">11</span>   <span class="comment">3</span>   <span class="comment">0</span>   <span class="comment">0</span>   <span class="comment">2|</span>   <span class="comment">0</span>   <span class="comment">182</span>   <span class="comment">616</span>     <span class="comment">2</span>
</pre></td></tr></table></figure>

<p>更详细的用法，可以参考 dstat(1) 手册</p>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/Linux技术/">Linux技术</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/io/">io</a>, <a href="/tags/statistics/">statistics</a>, <a href="/tags/iostat/">iostat</a>, <a href="/tags/iotop/">iotop</a>, <a href="/tags/iopp/">iopp</a>, <a href="/tags/iodump/">iodump</a>, <a href="/tags/dstat/">dstat</a>
  </div>

        
  <div class="addthis addthis_toolbox addthis_default_style">
    
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
    
    
      <a class="addthis_button_tweet"></a>
    
    
      <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    
    
      <a class="addthis_button_pinterest_pinit" pi:pinit:layout="horizontal"></a>
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">留言</h1>

  
      <div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=null";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>

<div class="fb-comments" data-href="http://wgzhao.com/2012/08/22/some-way-to-io-statistics-on-linux/" data-num-posts="5" data-width="840" data-colorscheme="light"></div>
      
  
</section>

</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:wgzhao.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/Linux技术/">Linux技术</a><small>152</small></li>
  
    <li><a href="/categories/WEB开发/">WEB开发</a><small>5</small></li>
  
    <li><a href="/categories/Linux技术/WEB开发/">WEB开发</a><small>1</small></li>
  
    <li><a href="/categories/lsb/init/">init</a><small>1</small></li>
  
    <li><a href="/categories/lsb/init/linux/">linux</a><small>1</small></li>
  
    <li><a href="/categories/lsb/">lsb</a><small>1</small></li>
  
    <li><a href="/categories/vsftp/mysql/">mysql</a><small>1</small></li>
  
    <li><a href="/categories/vsftp/mysql/pam_mysql/">pam_mysql</a><small>1</small></li>
  
    <li><a href="/categories/plan/">plan</a><small>1</small></li>
  
    <li><a href="/categories/strace/">strace</a><small>1</small></li>
  
    <li><a href="/categories/plan/summary/">summary</a><small>1</small></li>
  
    <li><a href="/categories/strace/sys call/">sys call</a><small>1</small></li>
  
    <li><a href="/categories/strace/sys call/troubleshooting/">troubleshooting</a><small>1</small></li>
  
    <li><a href="/categories/vsftp/">vsftp</a><small>1</small></li>
  
    <li><a href="/categories/我读我书/">我读我书</a><small>11</small></li>
  
    <li><a href="/categories/Linux技术/我读我书/">我读我书</a><small>5</small></li>
  
    <li><a href="/categories/技术技巧/">技术技巧</a><small>25</small></li>
  
    <li><a href="/categories/Linux技术/技术技巧/">技术技巧</a><small>4</small></li>
  
    <li><a href="/categories/数据库/">数据库</a><small>8</small></li>
  
    <li><a href="/categories/随心所想/">随心所想</a><small>111</small></li>
  
    <li><a href="/categories/我读我书/随心所想/">随心所想</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2012/12/30/some-tips-for-mac-os-x/">一些Mac OS X 的使用技巧</a>
      </li>
    
      <li>
        <a href="/2012/08/24/generate-random-strings-and-other-tips-on-postgresql/">生成随机字符串以及自动更新时间戳和返回最近插入的ID号</a>
      </li>
    
      <li>
        <a href="/2012/08/22/some-way-to-io-statistics-on-linux/">Linux下的一些I/O统计工具</a>
      </li>
    
      <li>
        <a href="/2012/08/21/explaining-the-postgresql-query-optimizer/">PostgreSQL查询优化简介</a>
      </li>
    
      <li>
        <a href="/2012/08/20/several-popular-nosql-databases-key-features-list/">几种常见的NoSQL数据库关键特性列表</a>
      </li>
    
  </ul>
</div>


  
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12">十二月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08">八月 2012</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/04">四月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/01">一月 2012</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/09">九月 2011</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/08">八月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/04">四月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/03">三月 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/08">八月 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/07">七月 2010</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/06">六月 2010</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/05">五月 2010</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/04">四月 2010</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/03">三月 2010</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/02">二月 2010</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/01">一月 2010</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/12">十二月 2009</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/11">十一月 2009</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/10">十月 2009</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/09">九月 2009</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/08">八月 2009</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/07">七月 2009</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/04">四月 2009</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/03">三月 2009</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/02">二月 2009</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/01">一月 2009</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/12">十二月 2008</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/09">九月 2008</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/08">八月 2008</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/07">七月 2008</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/06">六月 2008</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/05">五月 2008</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/04">四月 2008</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/03">三月 2008</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/02">二月 2008</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/01">一月 2008</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/12">十二月 2007</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/11">十一月 2007</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/10">十月 2007</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/09">九月 2007</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/08">八月 2007</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/07">七月 2007</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/06">六月 2007</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/05">五月 2007</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/04">四月 2007</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/03">三月 2007</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/02">二月 2007</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/01">一月 2007</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/12">十二月 2006</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/11">十一月 2006</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/10">十月 2006</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/09">九月 2006</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/08">八月 2006</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/07">七月 2006</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/06">六月 2006</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/05">五月 2006</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/04">四月 2006</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/03">三月 2006</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/01">一月 2006</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2005/12">十二月 2005</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2005/11">十一月 2005</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2005/09">九月 2005</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2005/05">五月 2005</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2005/04">四月 2005</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2005/03">三月 2005</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2005/01">一月 2005</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2004/12">十二月 2004</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2004/10">十月 2004</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2014 wgzhao
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
var disqus_shortname = 'wgzhao';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>